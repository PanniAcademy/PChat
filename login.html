<!DOCTYPE html>
<html>
<head>
    <title>PChat - Login</title>
</head>
<body>
    <h1>Login</h1>
    <input type="email" id="email" placeholder="Enter email">
    <input type="password" id="password" placeholder="Enter password">
    <button onclick="login()">Login</button>
    <button onclick="register()">Register</button>

    <script type="module">
        import { auth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from './firebase.js';

        async function login() {
            let email = document.getElementById('email').value;
            let password = document.getElementById('password').value;
            try {
                await signInWithEmailAndPassword(auth, email, password);
                alert("Login successful!");
                location.href = 'contacts.html';
            } catch (error) {
                alert(error.message);
            }
        }

        async function register() {
            let email = document.getElementById('email').value;
            let password = document.getElementById('password').value;
            try {
                await createUserWithEmailAndPassword(auth, email, password);
                alert("Registration successful! Please log in.");
            } catch (error) {
                alert(error.message);
            }
        }
    </script>
</body>
</html>
